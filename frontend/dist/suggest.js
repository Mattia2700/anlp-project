import{d as m,r as p,f as y,c as n,F as r,g as f,a as i,o as c,t as l,p as g,b as w,_ as S,e as v}from"./_plugin-vue_export-helper.js";const d=a=>(g("data-v-d56912a8"),a=a(),w(),a),I=d(()=>i("h1",null,"I suggest you these songs:",-1)),b=d(()=>i("div",{class:"spacer"},null,-1)),k=m({__name:"App",setup(a){const s=p([]),u=p(window.location.search.split("=")[1]);y(async()=>{s.value=await _().then(e=>e.json()).then(e=>e.suggestions).then(e=>e.map(t=>[t.song,t.artist,t.id]))});async function _(){return await fetch("/api/suggest",{method:"POST",body:JSON.stringify({mood:u.value})})}async function h(){const e=await fetch("/api/create",{method:"POST",body:JSON.stringify({ids:s.value.map(t=>t[2])})}).then(t=>t.json()).then(t=>t.playlist);await new Promise(t=>setTimeout(t,1e3)),window.location.href=e}return(e,t)=>(c(),n(r,null,[I,(c(!0),n(r,null,f(s.value,o=>(c(),n("h3",{key:o},l(o[0])+" - "+l(o[1]),1))),128)),b,i("button",{onClick:h},"Create a playlist")],64))}}),O=S(k,[["__scopeId","data-v-d56912a8"]]);v(O).mount("#app");
